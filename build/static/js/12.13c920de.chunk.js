(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{378:function(n,t,e){"use strict";e.r(t);var r=e(80),u=e.n(r),o=e(81),a=e(90),i=e(0),c=e.n(i),s=e(388),f=e(357),d=e(63),m=e(11),h=e(385),g=e(53),l=e(10);t.default=Object(m.c)((function(n){return{user:n.user}}),(function(n){return{setUser:function(t){return n(Object(d.a)(t))}}}))((function(n){var t=Object(i.useState)([{},{}]),e=Object(a.a)(t,2),r=e[0],d=e[1],m=function(){var t=Object(o.a)(u.a.mark((function t(e){var o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,g.a.signIn({username:r[0],password:r[1]});case 3:(o=t.sent).signed_token&&(console.log(o),localStorage.setItem("token",o.signed_token),g.a.getSession().then((function(t){t.success&&(n.setUser(t.data),l.a.push("/"))})));case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=function(n,t){if(null!=n.target){var e=n.target.value;r[t]=e,d(r)}};return c.a.createElement("div",{className:"signin"},c.a.createElement("form",{onSubmit:m},c.a.createElement(h.a,{styles:{root:{width:900,margin:"auto"}}},c.a.createElement(s.a,{onChange:function(n){return p(n,0)},label:"T\xean t\xe0i kho\u1ea3n",required:!0}),c.a.createElement(s.a,{onChange:function(n){return p(n,1)},type:"password",label:"M\u1eadt kh\u1ea9u",styles:{root:{marginBottom:20}},required:!0}),c.a.createElement(f.a,{text:"\u0110\u0103ng nh\u1eadp",type:"submit"}))))}))},53:function(n,t,e){"use strict";var r=e(58),u=e(62),o=e.n(u),a="http://35.240.224.152:8081/api/",i=function(n){return o.a.get(a+n,{method:"GET",headers:{Authorization:localStorage.getItem("token")}})},c=function(n,t){return o.a.post(a+n,Object(r.a)({},t),{method:"POST",headers:{Authorization:localStorage.getItem("token")}})},s=function(n){return o.a.delete(a+n,{method:"DELETE",headers:{Authorization:localStorage.getItem("token")}})},f=function(n,t){return o.a.patch(a+n,Object(r.a)({},t),{method:"PATCH",headers:{Authorization:localStorage.getItem("token")}})},d={getSession:function(){return new Promise((function(n){return i("user/me").then((function(t){return n(t.data)}))}))},getBooking:function(n){return new Promise((function(t){return i("booking/"+n).then((function(n){return t(n.data)}))}))},signIn:function(n){return new Promise((function(t){return c("auth/sign-in",Object(r.a)({},n)).then((function(n){return t(n.data)}))}))},book:function(n){return new Promise((function(t){return c("booking/new",Object(r.a)({},n)).then((function(n){return t(n.data)}))}))},updateUser:function(n){return new Promise((function(t){return c("",Object(r.a)({},n)).then((function(n){return t(n.data)}))}))},changePassword:function(n){return new Promise((function(t){return f("user/me/password",Object(r.a)({},n)).then((function(n){return t(n.data)}))}))},searchBooking:function(n){return new Promise((function(t){return i("booking/phone/"+n).then((function(n){return t(n.data)}))}))},getUser:function(n){return new Promise((function(t){return i("user/"+n).then((function(n){return t(n.data)}))}))},getDoctors:function(n){return new Promise((function(t){return i("user/group/"+n).then((function(n){return t(n.data)}))}))},getGroups:function(){return new Promise((function(n){return i("groups").then((function(t){return n(t.data)}))}))},createGroup:function(n){return new Promise((function(t){return c("group/new",Object(r.a)({},n)).then((function(n){return t(n.data)}))}))},deleteGroup:function(n){return new Promise((function(t){return s("group/delete/"+n).then((function(n){return t(n.data)}))}))},createUser:function(n){return new Promise((function(t){return c("user/new",Object(r.a)({},n)).then((function(n){return t(n.data)}))}))},deleteUser:function(n){return new Promise((function(t){return s("user/delete/"+n).then((function(n){return t(n.data)}))}))},getAllUsers:function(){return new Promise((function(n){return i("users").then((function(t){return n(t.data)}))}))},getMyBookings:function(){return new Promise((function(n){return i("booking/me").then((function(t){return n(t.data)}))}))},updateTimeBlock:function(n){return new Promise((function(t){return f("user/me/available-time",Object(r.a)({},n)).then((function(n){return t(n.data)}))}))},generateSignedUrl:function(n){return new Promise((function(t){return c("aws/generate-signed-url",Object(r.a)({},n)).then((function(n){return t(n.data)}))}))},uploadImage:function(n){return new Promise((function(t){return o()(n).then((function(n){return t(n)}))}))},imageLabel:function(n){return new Promise((function(t){return c("attachment",Object(r.a)({},n)).then((function(n){return t(n.data)}))}))}};t.a=d},63:function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var r=function(n){return{type:"SET_USER",payload:n}}}}]);
//# sourceMappingURL=12.13c920de.chunk.js.map